<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Validation que badetitou est l'auteur pour google -->
    <meta name="google-site-verification" content="v0CoNWgzPotXcXjDcB8Jtz_2WR-YY__FreCXk4diUOU" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Presentation of Benoît "badetitou" Verhaeghe">
    <link rel="icon" href="/img/logo/logo.png" type="image/x-icon">


    <title>Casino - GWT to Angular - Benoît Verhaeghe</title>

    <link rel="canonical" href="http://badetitou.github.io/projects/Casino/GWTToAngular/GWTToAngular/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css">

    <!-- Material design -->
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">


    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link
        href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
        rel='stylesheet' type='text/css'>

    <!-- My CSS -->
    <link rel="stylesheet" href="/css/my.css">

    <link type="application/atom+xml" rel="alternate" href="http://badetitou.github.io/feed.xml" title="Benoît Verhaeghe" />

</head>

<body>

    <header class="mdc-top-app-bar my-top-app-bar">
    <div class="mdc-top-app-bar__row">
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
            <button class="mdc-top-app-bar__navigation-icon mdc-icon-button material-icons" href="#">menu</button>
            <a class="mdc-top-app-bar__title my-nav-label" href="/" style="color: inherit;">Benoît Verhaeghe</a>
        </section>
        <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                    <a style="color: inherit;" class="mdc-button" href="/teaching/">
                        <div class="mdc-button__ripple"></div>
                        <span style="color: inherit;" class="mdc-button__label my-nav-label">Teaching</span>
                    </a>
				
                
                
                    <a style="color: inherit;" class="mdc-button" href="/post/">
                        <div class="mdc-button__ripple"></div>
                        <span style="color: inherit;" class="mdc-button__label my-nav-label">Posts</span>
                    </a>
				
                
                
                    <a style="color: inherit;" class="mdc-button" href="/projects/">
                        <div class="mdc-button__ripple"></div>
                        <span style="color: inherit;" class="mdc-button__label my-nav-label">Projects</span>
                    </a>
				
                
                
                    <a style="color: inherit;" class="mdc-button" href="/research/">
                        <div class="mdc-button__ripple"></div>
                        <span style="color: inherit;" class="mdc-button__label my-nav-label">Research</span>
                    </a>
				
                
        </section>
    </div>
</header>

<aside class="mdc-drawer mdc-drawer--modal">
<div class="mdc-drawer__content">
    <nav class="mdc-list">
        
                
                
            
        
                
                
            
        
                
                
            
        
                
                
            
        
                
                
            
        
                
                
            
        
                
                
            
        
        
                
                
            
        
                
                    <a class="mdc-list-item" href="/teaching/" aria-current="page" tabindex="0">
                        <span class="mdc-list-item__ripple"></span>
                        <span class="mdc-list-item__text my-nav-label">Teaching</span>
                    </a>
				
            
        
                
                    <a class="mdc-list-item" href="/post/" aria-current="page" tabindex="0">
                        <span class="mdc-list-item__ripple"></span>
                        <span class="mdc-list-item__text my-nav-label">Posts</span>
                    </a>
				
            
        
                
                    <a class="mdc-list-item" href="/projects/" aria-current="page" tabindex="0">
                        <span class="mdc-list-item__ripple"></span>
                        <span class="mdc-list-item__text my-nav-label">Projects</span>
                    </a>
				
            
        
                
                    <a class="mdc-list-item" href="/research/" aria-current="page" tabindex="0">
                        <span class="mdc-list-item__ripple"></span>
                        <span class="mdc-list-item__text my-nav-label">Research</span>
                    </a>
				
            
        
        
        
        
  
    </nav>
</div>
</aside>

<div class="mdc-drawer-scrim"></div>




    <!-- Project Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Casino - GWT to Angular</h1>
                    
                    <span class="meta">Posted by Benoît "badetitou" Verhaeghe on June 7, 2019</span>
                    <span class="post-meta">
                      
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Project Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-12 col-lg-offset-0">

                <h2 id="how-to-use-casino-for-the-gwt-to-angular-project">How to use Casino for the GWT to Angular project</h2>

<h3 id="summary">Summary</h3>

<ul>
  <li>Download Moose</li>
  <li>Download Casino</li>
  <li>Import GWT</li>
  <li>Export Angular</li>
</ul>

<h3 id="download-moose">Download Moose</h3>

<p>To download Moose, the first step is to download the last version of Pharo Launcher.
It is downloadable at <a href="https://pharo.org">https://pharo.org</a>.</p>

<p>Once the Pharo Launcher is downloaded, we have to create an image from the latest build of Moose 7.0.</p>

<p><img src="../img/mooseInstall.png" alt="Install Moose" class="center-image" /></p>

<p>Select the image, and press the green arrow to run Pharo.</p>

<h2 id="download-casino">Download Casino</h2>

<p>To use Casino for the migration, we must download two projects.</p>

<p>The importer (in this tutorial it’s the GWT importer)
The exporter (in this tutorial it’s the Angular exporter)
The importers and exporters are hosted on <a href="https://github.com/search?q=user:badetitou+Casino">Github</a>.</p>

<h3 id="iceberg">Iceberg</h3>

<p>To download project in Pharo, the easiest way is to use Iceberg. This project proposes us a User Interface to download projects and their dependencies.</p>

<p>To download the GWT importer:</p>

<ul>
  <li>Open Iceberg with Ctrl+O+I or on the menu with Tools&gt;Iceberg :</li>
  <li>Add a repository</li>
  <li>Enter the project localization</li>
  <li>Install the default baseline</li>
</ul>

<p>Now, the project Casino and the GWT importer should be loaded in the Image. You can save your image with <code class="language-plaintext highlighter-rouge">Ctrl+Shift+S</code>.</p>

<p>To access the code of the importer, we can use the Browser of Pharo. To do so, go on <code class="language-plaintext highlighter-rouge">Tools&gt;System Browser</code> or press <code class="language-plaintext highlighter-rouge">Ctrl+O+B</code>.</p>

<p>Then, browse the repositories to Casino-Model-CoreWeb-Importer</p>

<h2 id="import-gwt">Import GWT</h2>

<p>To migrate your application you have to migrate:</p>

<ul>
  <li>The User Interface</li>
  <li>The Behavioral Code</li>
  <li>The Business Code</li>
</ul>

<h3 id="user-interface">User Interface</h3>

<p>In Silverlight, the user interface is fully written in a xml file. To import a user interface into a Casino UI model, the importer visits its xml file. To do so, it parses the file with the XMLParser of Pharo, then it extends the XMLNodeVisitor. For each node, the visitor creates one or multiple entities in the UI model.</p>

<p>There are two major kinds of nodes:</p>

<p>Document which represents a Page in the UI model.
Element which represents a Widget in the UI model.
The element node may have attributes. Those attributes are transposed as Attribute or Action in the UI model by the silverlight importer.</p>

<p>To detect which widget corresponds to which node in the xml, the importer implements a factory. For each kind of xml tag, there is one corresponding entity in the UI meta-model. The binding between is done through the name of the xml tag for easy cases.</p>

<p>For example: a BLUIButton corresponds to a tag <button>.</button></p>

<p>We can find the same strategy for the binding of the attributes.</p>

<h3 id="behavioral-code">Behavioral Code</h3>

<p>WIP – The behavioral code is not currently handled.</p>

<h3 id="business-code">Business Code</h3>

<p>WIP – The business code is not currently handled.</p>

<h3 id="run">Run</h3>

<p>To run the import, you can execute these lines on a playground (<code class="language-plaintext highlighter-rouge">Ctrl+Shift+W</code>):</p>

<div class="language-smalltalk highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">SmalltalkImage</span> <span class="nf">current</span> <span class="nf">garbageCollect</span><span class="p">.</span>

<span class="c">"Generate BlApp"</span>
<span class="nv">gwtMooseModel</span> <span class="o">:=</span> <span class="nc">MooseModel</span> <span class="nf">importFromMSEStream:</span>  <span class="s">'D:\Developpement\mse\verveineJ5\KitchenGWT.mse'</span> <span class="nf">asFileReference</span> <span class="nf">readStream</span><span class="p">.</span>
<span class="nv">gwtMooseModel</span> <span class="nf">rootFolder:</span> <span class="s">'D:\Developpement\mse\verveineJ5'</span><span class="p">.</span>

<span class="c">"Generate Bl Model"</span>
<span class="nv">gwtModel</span> <span class="o">:=</span> <span class="nc">MooseModel</span> <span class="nb">new</span> <span class="nf">name:</span> <span class="s">'Showroom'</span><span class="p">;</span>
    <span class="nf">metamodel:</span>
        <span class="p">(</span><span class="nc">MooseModel</span>
            <span class="nf">metamodelComposedOf:</span>
                <span class="p">{</span><span class="nc">CSNLayoutMetamodelGenerator</span> <span class="nf">metamodel</span><span class="p">});</span> <span class="nf">yourself</span><span class="p">.</span>
<span class="nc">CSNMooseModelCreatorAngular</span> <span class="nf">runOn:</span> <span class="nv">gwtModel</span> <span class="nf">fromSourceModel:</span> <span class="nv">gwtMooseModel</span> <span class="nf">and:</span>  <span class="s">'D:\Developpement\mse\KitchenGWT\BLCoreIncubatorGwt\src\fr\bl\application.module.xml'</span><span class="p">.</span>

<span class="nc">CSNModelExporterAngularBLSpecific</span> <span class="nf">export:</span> <span class="nv">gwtModel</span><span class="p">.</span>
</code></pre></div></div>

                
            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    <li>
                        <a href="https://twitter.com/badetitou">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.facebook.com/badetitou">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://orcid.org/0000-0002-4588-2698">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fab fa-orcid fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://github.com/badetitou">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://www.linkedin.com/in/benoitverhaeghe">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fab fa-linkedin-in fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="mailto:badetitou@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; badetitou 2020</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js"></script>

<script src="/js/my-drawer.js"></script>


</body>

</html>
